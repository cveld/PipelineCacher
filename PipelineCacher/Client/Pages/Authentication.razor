@page "/authentication/{action}"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using PipelineCacher.Client.Models
@using PipelineCacher.Shared

<RemoteAuthenticatorView Action="@Action"></RemoteAuthenticatorView>
@code {
    [Parameter] public string Action { get; set; }
    //public RemoteAuthenticationState RemoteAuthenticationState { get; set; } = new RemoteAuthenticationState();

    [CascadingParameter]
    public Task<AuthenticationState> AuthenticationState { get; set; }

    // calling OnLogInSucceeded triggers a second auth flow, but then with redirects! bug in Blazor core
    private void OnLogInSucceeded()
    {
        //UserState.Test = "This is after logging in";
        //StateHasChanged();
        //var forecasts = await Http.GetFromJsonAsync<WeatherForecast[]>("WeatherForecast");
        //UserState.Test = forecasts.Length.ToString();
    }
}